#:kivy 2.3.0
# main.kv

#:include components/widgets.kv
#:include components/colorbox/colorbox.kv
#:include components/colortable/colortable.kv
#:include components/colordiagram/colordiagram.kv
#:include components/palettediagram/palettediagram.kv

StackLayout:
    orientation: 'tb-lr'

    canvas.before:
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size
                
    Box1:
        Heading1:
            text: 'Color palette'

        ColorTable:
            id: color_entry_table
            
        Button:
            size_hint_y: None
            height: 30  # Fixed height
            text: '+'
            on_press:
                app.palette.append()

    Box1:
        Heading1:
            text: 'Analysis'
    
        GridLayout:
            cols: 2
            size_hint_x: 1 # Take up remaining space
            size_hint_y: None
            height: 400
            Box2:
                size_hint_y: 1 # Take up remaining space
                ColorDiagram:
                    id: diagram1
            Box2:
                size_hint_y: 1 # Take up remaining space
                PaletteDiagram:
                    id: diagram2
    
    Box1:
        Heading1:
            text: 'Generation'
        
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 30  # Fixed row height
            spacing: 10
            
            Label:
                text: 'Generation method:'
                size_hint_x: None
                width: 200  # Fixed width
                text_size: self.size
                halign: 'right'
                valign: 'middle'
            
            Spinner:
                id: generator_type
                size_hint_x: None
                width: 200  # Fixed width
                text: 'RGB random'
                values: ['RGB random', 'RGB cosine', 'Monochrome']
        
        
        Box2:
            Heading2:
                text: 'Method specific parameters'

            Randomize:
                id: randomize
                # generate_palette is binded in main.py once app is fully built
            
            Cosine:
                id: cosine
                # generate_palette is binded in main.py once app is fully built
                    
